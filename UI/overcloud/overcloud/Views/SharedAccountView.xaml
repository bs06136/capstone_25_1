<UserControl x:Class="overcloud.Views.SharedAccountView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:overcloud.Converters"
             xmlns:local="clr-namespace:overcloud.Views">

    <UserControl.Resources>
        <Style x:Key="UnifiedListItemStyle" TargetType="ListBoxItem">
            <Setter Property="Height" Value="36"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Focusable" Value="False"/>
        </Style>
    </UserControl.Resources>

    <Viewbox>
        <Canvas Width="1820" Height="1080">

            <!-- ì¢Œì¸¡ ë””ë ‰í† ë¦¬ ì˜ì—­ -->
            <Rectangle Width="200" Height="1080" Fill="#F7F7F7" Canvas.Left="0" Canvas.Top="0"/>
            <TextBlock Text="ëª¨ë“  í´ë”"
                       Canvas.Left="38" Canvas.Top="110"
                       FontSize="18" FontWeight="Bold" Foreground="Black"/>
            <TreeView x:Name="FileExplorerTree"
                      Canvas.Left="0" Canvas.Top="155"
                      Width="200" Height="785"
                      Background="#F7F7F7"
                      BorderThickness="0"
                      FontSize="16"
                      SelectedItemChanged="FileExplorerTree_SelectedItemChanged"
                      VirtualizingStackPanel.IsVirtualizing="False">
                <TreeView.Resources>
                    <Style TargetType="TreeViewItem">
                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                    </Style>
                </TreeView.Resources>
                <TreeView.ItemTemplate>
                    <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                        <Grid Width="200">
                            <TextBlock Text="{Binding FileName}"
                                       VerticalAlignment="Center"/>
                        </Grid>
                    </HierarchicalDataTemplate>
                </TreeView.ItemTemplate>
            </TreeView>
            <Rectangle Width="1" Height="1080" Fill="#D4D2D0" Canvas.Left="0" Canvas.Top="0"/>
            <Rectangle Width="1" Height="1080" Fill="#D4D2D0" Canvas.Left="200" Canvas.Top="0"/>

            <!-- íŽ˜ì´ì§€ ì œëª© -->
            <TextBlock x:Name="PageTitleTextBlock"
                       Text="ê³µìœ  í´ë”"
                       FontSize="22" FontWeight="Bold"
                       Canvas.Left="252" Canvas.Top="180" Foreground="Black"/>

            <!-- ìƒë‹¨ ê²€ìƒ‰ì°½ -->
            <ContentControl x:Name="SearchHost"
                Width="1500" Height="100"
                Canvas.Left="240" Canvas.Top="32"/>

            <!-- ìƒë‹¨ ë²„íŠ¼ë“¤ -->
            <Button x:Name="UploadButton" Width="90" Height="40"
                    Canvas.Left="1154" Canvas.Top="170"
                    Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                    Click="Button_Save_Click">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="pack://application:,,,/overcloud;component/asset/upload.png"
                           Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="ì—…ë¡œë“œ" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>
            
            <Button x:Name="DownloadButton" Width="100" Height="40"
                    Canvas.Left="1258" Canvas.Top="170"
                    Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                    Click="Button_Down_Click">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="pack://application:,,,/overcloud;component/asset/download.png"
                           Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="ë‹¤ìš´ë¡œë“œ" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>
            
            <Button x:Name="DeleteButton" Width="80" Height="40"
                    Canvas.Left="1372" Canvas.Top="170"
                    Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                    Click="Button_DeleteSelected_Click">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="pack://application:,,,/overcloud;component/asset/delete.png"
                           Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="ì‚­ì œ" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>
            
            <Button x:Name="MoveButton" Width="80" Height="40"
                    Canvas.Left="1466" Canvas.Top="170"
                    Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                    Click="Button_DeleteSelected_Click">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="pack://application:,,,/overcloud;component/asset/arrow_back.png"
                           Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="ì´ë™" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>
            
            <Button x:Name="CopyButton" Width="80" Height="40"
                    Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                    Canvas.Left="1560" Canvas.Top="170">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="pack://application:,,,/overcloud;component/asset/Icon.png"
                           Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="ë³µì‚¬" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>
            
            <Button x:Name="AddFolderButton" Width="100" Height="40"
                    Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                    Canvas.Left="1654" Canvas.Top="170"
                    Click="Button_AddFolder_Click">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="pack://application:,,,/overcloud;component/asset/folder.png"
                           Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="í´ë” ì¶”ê°€" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>


            <!-- íŒŒì¼ ë¦¬ìŠ¤íŠ¸ í—¤ë” -->
            <Rectangle Width="1550" Height="1" Fill="lightGray" Canvas.Left="220" Canvas.Top="235"/>
            <TextBlock Text="ì´ë¦„" FontSize="16" FontWeight="Bold"
                Canvas.Left="317" Canvas.Top="250"/>
            <TextBlock Text="ìˆ˜ì • ë‚ ì§œ" FontSize="16" FontWeight="Bold"
                Canvas.Left="1625" Canvas.Top="250"/>
            <Rectangle Width="1550" Height="1" Fill="lightGray" Canvas.Left="220" Canvas.Top="285"/>

            <!-- íŒŒì¼ ë¦¬ìŠ¤íŠ¸ ê·¸ë¦¬ë“œ -->
            <Grid Canvas.Left="240" Canvas.Top="318" Width="1500" Height="632">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="770"/>
                    <ColumnDefinition Width="500"/>
                    <ColumnDefinition Width="200"/>
                </Grid.ColumnDefinitions>

                <ListBox x:Name="RightFileListPanel"
                         ItemContainerStyle="{StaticResource UnifiedListItemStyle}"
                         Grid.Column="0"
                         Background="#eeeeee"
                         BorderThickness="0"
                         SelectionMode="Single">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Margin="5"
                                        MouseLeftButtonDown="RightFileItem_Click">
                                <CheckBox IsChecked="{Binding IsChecked}" Click="CheckBox_Click"/>
                                <TextBlock Text="{Binding IconText}" 
                                   FontSize="18" 
                                   Margin="5,0"
                                   xml:space="preserve"
                                   />
                                <TextBlock Text="{Binding FileName}" FontSize="16" Margin="20,0,0,0"/>
                                <!-- ì—¬ê¸°ë¶€í„° ì¶”ê°€ -->
                                <Border CornerRadius="10"
                                    Padding="6,2"
                                    Margin="10,0,0,0"
                                    VerticalAlignment="Center">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <!-- ê¸°ë³¸ê°’: ë³´ì´ë„ë¡, íˆ¬ëª… ë°°ê²½ -->
                                            <Setter Property="Visibility" Value="Visible"/>
                                            <Setter Property="Background" Value="Gray"/>
                                            <Style.Triggers>
                                                <!-- 1) IssueStatusê°€ nullì´ë©´ ìˆ¨ê¹€ -->
                                                <DataTrigger Binding="{Binding IssueStatus}" Value="{x:Null}">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>

                                                <!-- 2) IssueStatusê°€ ë¹ˆ ë¬¸ìžì—´ì´ë©´ ìˆ¨ê¹€ -->
                                                <DataTrigger Binding="{Binding IssueStatus}" Value="">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                </DataTrigger>

                                                <!-- 3) ìƒíƒœë³„ ë°°ê²½ìƒ‰ ì§€ì • -->
                                                <DataTrigger Binding="{Binding IssueStatus}" Value="OPEN">
                                                    <Setter Property="Background" Value="Red"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IssueStatus}" Value="IN_PROGRESS">
                                                    <Setter Property="Background" Value="Orange"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IssueStatus}" Value="RESOLVED">
                                                    <Setter Property="Background" Value="Green"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IssueStatus}" Value="CLOSED">
                                                    <Setter Property="Background" Value="Black"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>

                                    <!-- í° ê¸€ì”¨ ìƒíƒœ í…ìŠ¤íŠ¸ -->
                                    <TextBlock Text="{Binding IssueStatus}"
                                         Foreground="Gray"
                                         FontSize="14"/>
                                </Border>
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <ListBox x:Name="PathColumnPanel"
                    Grid.Column="1"
                    ItemContainerStyle="{StaticResource UnifiedListItemStyle}"
                    Background="#eeeeee"
                    BorderThickness="0"
                    SelectionMode="Single"
>
                    <!-- ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ -->
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding FullPath}"
                                FontSize="12"
                                Foreground="Black"
                                TextTrimming="CharacterEllipsis"/>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <ListBox x:Name="DateColumnPanel"
                         ItemContainerStyle="{StaticResource UnifiedListItemStyle}"
                         Grid.Column="2"
                         Background="#eeeeee"
                         BorderThickness="0"
                         SelectionMode="Single"
                         IsHitTestVisible="False">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding UploadedAt, StringFormat='yyyy-MM-dd HH:mm'}"
                                       FontSize="14" Foreground="Black"
                                       HorizontalAlignment="Right"/>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </Grid>
            
            <Button x:Name="UploadButtonë³µì‚¬__C_" Width="100" Height="40"
                Canvas.Left="1654" Canvas.Top="120" 
                Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                Click="CreateCooperationAccount_Click" HorizontalAlignment="Left" VerticalAlignment="Center">
                <Button.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="/asset/create_co.png"
                        Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="í˜‘ì—… ìƒì„±" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>
            
            <Button x:Name="UploadButtonë³µì‚¬__C_1" Width="100" Height="40"
                Canvas.Left="1540" Canvas.Top="120"
                Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                Click="DisJoinCooperationAccount_Click" HorizontalAlignment="Left" VerticalAlignment="Top">
                <Button.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="/asset/disconnect.png"
                        Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="í˜‘ì—… íƒˆí‡´" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>
            
            
            <Button x:Name="UploadButtonë³µì‚¬__C_2" Width="100" Height="40"
                Canvas.Left="1426" Canvas.Top="120"
                Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                Click="JoinCooperationAccount_Click" HorizontalAlignment="Left" VerticalAlignment="Center">
                <Button.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="/asset/invite.png"
                        Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="í˜‘ì—… ì°¸ê°€" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>


            <!-- ðŸ’¡ ì—¬ê¸° ë°”ë¡œ ì•„ëž˜ ì¶”ê°€ -->
            <Button x:Name="CurrentCooperationAccountsButton" Width="180" Height="40"
                Canvas.Left="1232" Canvas.Top="120"
                Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                Click="CurrentCooperationAccountsButton_Click" HorizontalAlignment="Left" VerticalAlignment="Center">
                <Button.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="/asset/invite.png" Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock FontSize="15" FontWeight="Bold"><Run Text="í˜‘ì—…"/><Run Text="ë³„ ì°¸ê°€ìž ë¦¬ìŠ¤"/><Run Language="ko-kr" Text="íŠ¸"/></TextBlock>
                </StackPanel>
            </Button>





            <Button x:Name="GenerateLinkButton" Width="100" Height="40"
                Canvas.Left="1040" Canvas.Top="170"
                Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                Click="Button_GenerateLink_Click" HorizontalAlignment="Left" VerticalAlignment="Center">
                <Button.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="pack://application:,,,/overcloud;component/asset/upload.png"
                        Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="ë§í¬ ìƒì„±" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>

            <Button x:Name="DownloadLinkButton" Width="120" Height="40"
                Canvas.Left="906" Canvas.Top="170"
                Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                Click="Button_DownloadLink_Click" HorizontalAlignment="Left" VerticalAlignment="Center">
                <Button.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="pack://application:,,,/overcloud;component/asset/download.png"
                        Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock Text="ë§í¬ ë‹¤ìš´ë¡œë“œ" FontSize="15" FontWeight="Bold"/>
                </StackPanel>
            </Button>
            
            <Button x:Name="UploadButtonë³µì‚¬__C_3" Width="100" Height="40"
                Canvas.Left="1118" Canvas.Top="120"
                Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                Click="Button_CreateIssue_Click" HorizontalAlignment="Left" VerticalAlignment="Center">
                <Button.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="/asset/issue.png"
                        Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock FontSize="15" FontWeight="Bold"><Run Text="ì´ìŠˆ ìƒ"/><Run Language="ko-kr" Text="ì„±"/></TextBlock>
                </StackPanel>
            </Button>
            
            <Button x:Name="DownloadLinkButtonë³µì‚¬__C_" Width="110" Height="40"
                Canvas.Left="782" Canvas.Top="170"
                Background="White" BorderBrush="#DDE2E4" BorderThickness="1"
                Click="Button_transfer_show" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Button.Resources>
                    <Style TargetType="{x:Type Border}">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Image Source="/asset/transfer.png"
                        Width="18" Height="18" Margin="0,0,5,0"/>
                    <TextBlock FontSize="15" FontWeight="Bold"><Run Language="ko-kr" Text="ì „ì†¡ ê´€ë¦¬ìž"/></TextBlock>
                </StackPanel>
            </Button>


            <!-- 4. ì°¨íŠ¸ + ìš°ì¸¡ ì‚¬ìš©ëŸ‰ ìš”ì•½ ì˜ì—­ -->
            <Grid Grid.Row="4" HorizontalAlignment="Center" Canvas.Top="978" VerticalAlignment="Center">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="200"/>
                </Grid.ColumnDefinitions>


                <!-- ìš°ì¸¡: ì´í•©ë§Œ ë³´ì—¬ì£¼ê¸° -->
                <Border
Background="Transparent"
CornerRadius="8"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
Padding="0">
                    <StackPanel Margin="0">
                        <TextBlock Text="ì „ì²´ ìš©ëŸ‰ ì‚¬ìš© í˜„í™©"
           FontSize="16"
           FontWeight="Bold"
           Margin="0,0,0,12"/>

                        <!-- í•©ì‚°ëœ í”„ë¡œê·¸ëž˜ìŠ¤ë°” -->
                        <ProgressBar x:Name="TotalUsageBar"
             Height="6"
             Maximum="100"
             Margin="0,0,0,8"/>

                        <!-- í…ìŠ¤íŠ¸ë¡œ ì´í•© í‘œì‹œ -->
                        <TextBlock x:Name="TotalUsageText"
           FontSize="14"
           HorizontalAlignment="Right"/>
                    </StackPanel>
                </Border>
            </Grid>


        </Canvas>
    </Viewbox>
</UserControl>
